{"ast":null,"code":"import _regeneratorRuntime from\"/Users/erik/Desktop/Software/dex/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/erik/Desktop/Software/dex/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/erik/Desktop/Software/dex/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useState,useEffect}from\"react\";import PostService from\"../../Shared/PostService\";import{BiEdit,BiTrash}from\"react-icons/bi\";import PostFeed from\"./PostFeed\";import\"./Blog.css\";import\"../../Styles/Buttons.css\";export default function Posts(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),postInput=_useState2[0],setPostInput=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),postId=_useState4[0],setPostId=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),posts=_useState6[0],setPosts=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),postsFetched=_useState8[0],setPostsFetched=_useState8[1];var postService=new PostService();var submitPost=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return postService.createPost({content:postInput}).then(function(response){if(response){getPosts();}});case 3:case\"end\":return _context.stop();}}},_callee);}));return function submitPost(_x){return _ref.apply(this,arguments);};}();var getPosts=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return postService.getPosts().then(function(posts){setPosts(posts.reverse());setPostsFetched(true);});case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function getPosts(){return _ref2.apply(this,arguments);};}();var editPost=function editPost(){};var deletePost=function deletePost(id){postService.deletePost(id).then(function(){getPosts();});};var write=function write(e){setPostInput(e.target.value);};useEffect(function(){if(!postsFetched){getPosts();}});return/*#__PURE__*/_jsxs(\"div\",{className:\"postScroll\",children:[/*#__PURE__*/_jsxs(\"form\",{className:\"post marginY\",onSubmit:submitPost,children:[/*#__PURE__*/_jsx(\"textarea\",{onBlur:write,placeholder:\"Capture a Feeling, Articulate a Thought...\"}),/*#__PURE__*/_jsx(\"button\",{id:\"postButton\",className:\"altButton\",children:\"Publish\"})]}),/*#__PURE__*/_jsx(PostFeed,{posts:posts,deletePost:deletePost})]});}","map":{"version":3,"sources":["/Users/erik/Desktop/Software/dex/frontend/src/Pages/Blog/Blog.js"],"names":["React","useState","useEffect","PostService","BiEdit","BiTrash","PostFeed","Posts","postInput","setPostInput","postId","setPostId","posts","setPosts","postsFetched","setPostsFetched","postService","submitPost","e","preventDefault","createPost","content","then","response","getPosts","reverse","editPost","deletePost","id","write","target","value"],"mappings":"qjBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,WAAP,KAAwB,0BAAxB,CACA,OAASC,MAAT,CAAiBC,OAAjB,KAAgC,gBAAhC,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CACA,MAAO,YAAP,CACA,MAAO,0BAAP,CAEA,cAAe,SAASC,CAAAA,KAAT,EAAiB,eACIN,QAAQ,CAAC,EAAD,CADZ,wCACvBO,SADuB,eACZC,YADY,8BAEFR,QAAQ,CAAC,IAAD,CAFN,yCAEvBS,MAFuB,eAEfC,SAFe,8BAGJV,QAAQ,CAAC,IAAD,CAHJ,yCAGvBW,KAHuB,eAGhBC,QAHgB,8BAIUZ,QAAQ,CAAC,KAAD,CAJlB,yCAIvBa,YAJuB,eAITC,eAJS,eAM9B,GAAMC,CAAAA,WAAW,CAAG,GAAIb,CAAAA,WAAJ,EAApB,CAEA,GAAMc,CAAAA,UAAU,0FAAG,iBAAOC,CAAP,kHACjBA,CAAC,CAACC,cAAF,GADiB,sBAEXH,CAAAA,WAAW,CAACI,UAAZ,CAAuB,CAAEC,OAAO,CAAEb,SAAX,CAAvB,EAA+Cc,IAA/C,CAAoD,SAACC,QAAD,CAAc,CACtE,GAAIA,QAAJ,CAAc,CACZC,QAAQ,GACT,CACF,CAJK,CAFW,uDAAH,kBAAVP,CAAAA,UAAU,4CAAhB,CAQA,GAAMO,CAAAA,QAAQ,2FAAG,+JACTR,CAAAA,WAAW,CAACQ,QAAZ,GAAuBF,IAAvB,CAA4B,SAACV,KAAD,CAAW,CAC3CC,QAAQ,CAACD,KAAK,CAACa,OAAN,EAAD,CAAR,CACAV,eAAe,CAAC,IAAD,CAAf,CACD,CAHK,CADS,yDAAH,kBAARS,CAAAA,QAAQ,2CAAd,CAMA,GAAME,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CAAE,CAAzB,CACA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,EAAD,CAAQ,CACzBZ,WAAW,CAACW,UAAZ,CAAuBC,EAAvB,EAA2BN,IAA3B,CAAgC,UAAM,CACpCE,QAAQ,GACT,CAFD,EAGD,CAJD,CAMA,GAAMK,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,CAACX,CAAD,CAAO,CACnBT,YAAY,CAACS,CAAC,CAACY,MAAF,CAASC,KAAV,CAAZ,CACD,CAFD,CAIA7B,SAAS,CAAC,UAAM,CACd,GAAI,CAACY,YAAL,CAAmB,CACjBU,QAAQ,GACT,CACF,CAJQ,CAAT,CAMA,mBACE,aAAK,SAAS,CAAC,YAAf,wBACE,cAAM,SAAS,CAAC,cAAhB,CAA+B,QAAQ,CAAEP,UAAzC,wBACE,iBACE,MAAM,CAAEY,KADV,CAEE,WAAW,CAAC,4CAFd,EADF,cAME,eAAQ,EAAE,CAAC,YAAX,CAAwB,SAAS,CAAC,WAAlC,qBANF,GADF,cAWE,KAAC,QAAD,EAAU,KAAK,CAAEjB,KAAjB,CAAwB,UAAU,CAAEe,UAApC,EAXF,GADF,CAeD","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport PostService from \"../../Shared/PostService\";\nimport { BiEdit, BiTrash } from \"react-icons/bi\";\nimport PostFeed from \"./PostFeed\";\nimport \"./Blog.css\";\nimport \"../../Styles/Buttons.css\";\n\nexport default function Posts() {\n  const [postInput, setPostInput] = useState(\"\");\n  const [postId, setPostId] = useState(null);\n  const [posts, setPosts] = useState(null);\n  const [postsFetched, setPostsFetched] = useState(false);\n\n  const postService = new PostService();\n\n  const submitPost = async (e) => {\n    e.preventDefault();\n    await postService.createPost({ content: postInput }).then((response) => {\n      if (response) {\n        getPosts();\n      }\n    });\n  };\n  const getPosts = async () => {\n    await postService.getPosts().then((posts) => {\n      setPosts(posts.reverse());\n      setPostsFetched(true);\n    });\n  };\n  const editPost = () => {};\n  const deletePost = (id) => {\n    postService.deletePost(id).then(() => {\n      getPosts();\n    });\n  };\n\n  const write = (e) => {\n    setPostInput(e.target.value);\n  };\n\n  useEffect(() => {\n    if (!postsFetched) {\n      getPosts();\n    }\n  });\n\n  return (\n    <div className=\"postScroll\">\n      <form className=\"post marginY\" onSubmit={submitPost}>\n        <textarea\n          onBlur={write}\n          placeholder=\"Capture a Feeling, Articulate a Thought...\"\n        ></textarea>\n        {/* <div className=\"post inputDisplay\">{input}</div> */}\n        <button id=\"postButton\" className=\"altButton\">\n          Publish\n        </button>\n      </form>\n      <PostFeed posts={posts} deletePost={deletePost} />\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}