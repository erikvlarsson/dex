{"ast":null,"code":"import Api from \"./Api\";\n\nclass UserService {\n  async register(userData) {\n    let registered = false;\n    await Api.post(\"/register\", userData).then(response => {\n      if (response.status === 201) {\n        registered = true;\n      }\n    }).catch(error => {\n      alert(error);\n    });\n    return registered;\n  }\n\n  async authorize() {\n    let authorized = null;\n    await Api.post(\"/authorize\", {}, {\n      headers: {\n        Authorization: \"Bearer \" + localStorage.access_token //the token is a variable which holds the token\n\n      }\n    }).then(response => {\n      authorized = response.status;\n    }).catch(error => {\n      authorized = error.response.status;\n    });\n    return authorized;\n  }\n\n  async login(userData) {\n    let authorized = null;\n    await Api.post(\"/login\", userData).then(response => {\n      if (response.status === 200) {\n        authorized = response.status;\n        localStorage.access_token = response.data.access_token;\n        localStorage.email = userData.email;\n      }\n    }).catch(error => {\n      authorized = error.response.status;\n    });\n    return authorized;\n  }\n\n  async getUsers() {\n    let res = null;\n    await Api.get(\"/users\").then(response => {\n      res = response;\n    });\n    return res;\n  }\n\n}\n\nexport default UserService;","map":{"version":3,"sources":["/Users/erik/Desktop/Software/frontend/src/Shared/UserService.js"],"names":["Api","UserService","register","userData","registered","post","then","response","status","catch","error","alert","authorize","authorized","headers","Authorization","localStorage","access_token","login","data","email","getUsers","res","get"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,OAAhB;;AAEA,MAAMC,WAAN,CAAkB;AAChB,QAAMC,QAAN,CAAeC,QAAf,EAAyB;AACvB,QAAIC,UAAU,GAAG,KAAjB;AACA,UAAMJ,GAAG,CAACK,IAAJ,CAAS,WAAT,EAAsBF,QAAtB,EACHG,IADG,CACGC,QAAD,IAAc;AAClB,UAAIA,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;AAC3BJ,QAAAA,UAAU,GAAG,IAAb;AACD;AACF,KALG,EAMHK,KANG,CAMIC,KAAD,IAAW;AAChBC,MAAAA,KAAK,CAACD,KAAD,CAAL;AACD,KARG,CAAN;AASA,WAAON,UAAP;AACD;;AAED,QAAMQ,SAAN,GAAkB;AAChB,QAAIC,UAAU,GAAG,IAAjB;AACA,UAAMb,GAAG,CAACK,IAAJ,CACJ,YADI,EAEJ,EAFI,EAGJ;AACES,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,EAAE,YAAYC,YAAY,CAACC,YADjC,CAC+C;;AAD/C;AADX,KAHI,EASHX,IATG,CASGC,QAAD,IAAc;AAClBM,MAAAA,UAAU,GAAGN,QAAQ,CAACC,MAAtB;AACD,KAXG,EAYHC,KAZG,CAYIC,KAAD,IAAW;AAChBG,MAAAA,UAAU,GAAGH,KAAK,CAACH,QAAN,CAAeC,MAA5B;AACD,KAdG,CAAN;AAeA,WAAOK,UAAP;AACD;;AAED,QAAMK,KAAN,CAAYf,QAAZ,EAAsB;AACpB,QAAIU,UAAU,GAAG,IAAjB;AACA,UAAMb,GAAG,CAACK,IAAJ,CAAS,QAAT,EAAmBF,QAAnB,EACHG,IADG,CACGC,QAAD,IAAc;AAClB,UAAIA,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;AAC3BK,QAAAA,UAAU,GAAGN,QAAQ,CAACC,MAAtB;AACAQ,QAAAA,YAAY,CAACC,YAAb,GAA4BV,QAAQ,CAACY,IAAT,CAAcF,YAA1C;AACAD,QAAAA,YAAY,CAACI,KAAb,GAAqBjB,QAAQ,CAACiB,KAA9B;AACD;AACF,KAPG,EAQHX,KARG,CAQIC,KAAD,IAAW;AAChBG,MAAAA,UAAU,GAAGH,KAAK,CAACH,QAAN,CAAeC,MAA5B;AACD,KAVG,CAAN;AAWA,WAAOK,UAAP;AACD;;AAED,QAAMQ,QAAN,GAAiB;AACf,QAAIC,GAAG,GAAG,IAAV;AACA,UAAMtB,GAAG,CAACuB,GAAJ,CAAQ,QAAR,EAAkBjB,IAAlB,CAAwBC,QAAD,IAAc;AACzCe,MAAAA,GAAG,GAAGf,QAAN;AACD,KAFK,CAAN;AAGA,WAAOe,GAAP;AACD;;AAzDe;;AA4DlB,eAAerB,WAAf","sourcesContent":["import Api from \"./Api\";\n\nclass UserService {\n  async register(userData) {\n    let registered = false;\n    await Api.post(\"/register\", userData)\n      .then((response) => {\n        if (response.status === 201) {\n          registered = true;\n        }\n      })\n      .catch((error) => {\n        alert(error);\n      });\n    return registered;\n  }\n\n  async authorize() {\n    let authorized = null;\n    await Api.post(\n      \"/authorize\",\n      {},\n      {\n        headers: {\n          Authorization: \"Bearer \" + localStorage.access_token, //the token is a variable which holds the token\n        },\n      }\n    )\n      .then((response) => {\n        authorized = response.status;\n      })\n      .catch((error) => {\n        authorized = error.response.status;\n      });\n    return authorized;\n  }\n\n  async login(userData) {\n    let authorized = null;\n    await Api.post(\"/login\", userData)\n      .then((response) => {\n        if (response.status === 200) {\n          authorized = response.status;\n          localStorage.access_token = response.data.access_token;\n          localStorage.email = userData.email;\n        }\n      })\n      .catch((error) => {\n        authorized = error.response.status;\n      });\n    return authorized;\n  }\n\n  async getUsers() {\n    let res = null;\n    await Api.get(\"/users\").then((response) => {\n      res = response;\n    });\n    return res;\n  }\n}\n\nexport default UserService;\n"]},"metadata":{},"sourceType":"module"}